<!DOCTYPE html>

<html>
<head>
<meta charset="utf-8"/>
<link href="../img/favicon.png" rel="icon" sizes="192x192" type="image/png"/>
<meta content="width=device-width" name="viewport"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="Защита ssh от взлома с помощью fail2ban" name="description"/>
<meta content="ssh, fail2ban" name="keywords"/>
<!-- локализация сайта, для русскоязычного сайта ru_RU -->
<meta content="ru_RU" property="og:locale"/>
<!-- тип контента, по умолчанию используется article -->
<meta content="article" property="og:type"/>
<!-- заголовок страницы, который будет выводится в записи социальной сети -->
<meta content="Защита ssh от взлома с помощью fail2ban" property="og:title"/>
<!-- описание страницы -->
<meta content="Простые методы защиты ssh от брута" property="og:description"/>
<meta content="DzenIT" property="og:site_name"/>
<title>Защита ssh от взлома с помощью fail2ban</title>
<link href="../css/text.css" rel="stylesheet"/>
</head>
<body> <div class="size1">
<div class="header">
<h2>DzenIT</h2>
</div>
<div class="topnav">
<a href="../index.html">HOME</a>
<a href="../zen.html">ZEN</a>
<a href="../it.html">IT</a>
<a href="../soft.html">SOFT</a>
<a href="../apk.html">APK</a>
<a href="../live.html">LIVE</a>
<a href="../game.html">GAME</a>
<a href="../other.html">OTHER</a>
<a href="../w.html">W</a>
<a href="../about.html">CONTACT</a>
<a href="#" id="searchLink">SEARCH</a>
<script>
  document.getElementById('searchLink').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default behavior of the link
    var searchBox = document.getElementById('searchBox');
    if (searchBox.style.display === 'none' || searchBox.style.display === '') {
      searchBox.style.display = 'block';
    } else {
      searchBox.style.display = 'none';
    }
  });
</script>
<div id="searchBox" style="display: none;">
<table border="0" cellpadding="0" cellspacing="0">
<tr>
<td colspan="2" style="font-family: Arial, Helvetica, sans-serif; font-size: 7.5pt;">
<form accept-charset="utf-8" action="https://search.freefind.com/find.html" method="get" style="margin:0px; margin-top:4px;" target="_blank">
<input name="si" type="hidden" value="41025751"/>
<input name="pid" type="hidden" value="r"/>
<input name="n" type="hidden" value="0"/>
<input name="_charset_" type="hidden" value=""/>
<input name="bcd" type="hidden" value="÷"/>
<input name="query" size="15" type="text"/>
<input type="submit" value="search"/>
</form>
</td>
</tr>
<tr>
</tr>
</table>
</div>
</div>
<center><h1><b>Защита ssh от взлома с помощью fail2ban</b></h1></center>
<p>Установка fail2ban</p>
<pre>apt-get install fail2ban</pre>
<p>включаем демона для беспрерывной работы</p>
<pre>systemctl enable fail2ban</pre>
<p>сбрасываем настройки</p>
<pre>cat /dev/null &gt;/etc/fail2ban/jail.d/defaults-debian.conf</pre>
<p>создаем свои настойки</p>
<pre>nano /etc/fail2ban/jail.d/sshd.conf</pre>
<pre>
[sshd]
enabled = true
# бан ip в секундах
bantime = 86400
# если в течение 300 секунд было 2 неверные авторизации
findtime = 300
maxretry = 2</pre>
<p>перезагружаем демона</p>
<pre>systemctl restart fail2ban</pre>
<p>проверка заблокированных ip </p>
<pre>fail2ban-client status sshd</pre>
<p>Проверка журнала</p>
<pre>journalctl -xe</pre>
<p>Отключение fail2ban</p>
<pre>systemctl stop fail2ban
systemctl disable fail2ban</pre>
<p>Для улучшения защиты ssh рекомендую создать подключение только по ключу, можно ознакомиться со статьей <a href="ssh_key_connect_only.html" target="_blank">здесь</a></p>
<p>Оригинал <a href="https://www.servers.ru/knowledge/linux-administration/how-to-protect-ssh-using-fail2ban-on-ubuntu-16_04" target="_blank">статьи</a></p>
<br><br><br><footer>lotositsh.github.io. All rights reserved. © 2024</footer></div> </body>
</html>