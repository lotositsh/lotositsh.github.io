<!DOCTYPE html>

<html>
<head>
<meta charset="utf-8"/>
<link href="css/text.css" rel="stylesheet"/>
<script src="css/script.js"></script>
<link href="./img/favicon.png" rel="icon" sizes="192x192" type="image/png"/>
<meta content="width=device-width" name="viewport"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="python конвертация jpg и png в webp" name="description"/>
<meta content="python, конвертация jpg png webp" name="keywords"/>
<!-- fb -->
<!-- локализация сайта, для русскоязычного сайта ru_RU -->
<meta content="ua_RU" property="og:locale"/>
<!-- тип контента, по умолчанию используется article -->
<meta content="article" property="og:type"/>
<!-- заголовок страницы, который будет выводится в записи социальной сети -->
<meta content="python конвертация jpg и png в webp" property="og:title"/>
<!-- описание страницы -->
<meta content="python, конвертация jpg png webp" property="og:description"/>
<!-- ссылка на изображение, которое будет публиковаться в записи -->
<meta content="img/jpg2webp/jpg2web.webp" property="og:image"/>
<!-- ссылка на текущую страницу -->
<meta content="jpg2webp.html" property="og:url"/>
<!-- название сайта -->
<meta content="DzenIT" property="og:site_name"/>
<script type="text/javascript">
  function openImageWindow(src) {
    var image = new Image();
    image.src = src;
    var width = image.width;
    var height = image.height;
    window.open(src,"Image","width=" + width + ",height=" + height);
  }
</script>
<title>python конвертация jpg и png в webp</title>
<link href="css/text.css" rel="stylesheet"/>
<link href="css/spoiler.css" rel="stylesheet"/>
</head>
<body> <div class="size1">
<div class="header">
<h2>DzenIT</h2>
</div>
<div class="topnav">
<a href="index.html">HOME</a>
<a href="zen.html">ZEN</a>
<a href="it.html">IT</a>
<a href="soft.html">SOFT</a>
<a href="apk.html">APK</a>
<a href="live.html">LIVE</a>
<a href="game.html">GAME</a>
<a href="other.html">OTHER</a>
<a href="w.html">W</a>
<a href="about.html">CONTACT</a>
<a href="#" id="searchLink">SEARCH</a>
<script>
  document.getElementById('searchLink').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default behavior of the link
    var searchBox = document.getElementById('searchBox');
    if (searchBox.style.display === 'none' || searchBox.style.display === '') {
      searchBox.style.display = 'block';
    } else {
      searchBox.style.display = 'none';
    }
  });
</script>
<div id="searchBox" style="display: none;">
<table border="0" cellpadding="0" cellspacing="0">
<tr>
<td colspan="2" style="font-family: Arial, Helvetica, sans-serif; font-size: 7.5pt;">
<form accept-charset="utf-8" action="https://search.freefind.com/find.html" method="get" style="margin:0px; margin-top:4px;" target="_blank">
<input name="si" type="hidden" value="41025751"/>
<input name="pid" type="hidden" value="r"/>
<input name="n" type="hidden" value="0"/>
<input name="_charset_" type="hidden" value=""/>
<input name="bcd" type="hidden" value="÷"/>
<input name="query" size="15" type="text"/>
<input type="submit" value="search"/>
</form>
</td>
</tr>
<tr>
</tr>
</table>
</div>
</div>
<center><h1><b>python 3 конвертация jpg и png в webp</b></h1></center>
<p>Напишем простой код на python 3 для конвертации всех файлов  в папке формата jpg и png в webp. Сам код с комментариями:</p>
<pre>
#подключаем библиотеки
from PIL import Image
import PIL
import os
import glob
#сканируем все файлы в директории
files = os.listdir() 
#выводим все файлы
print(f"Все файлы в директории {files}")
#отсеиваем только в формате jpg и png
images = [file for file in files if file.endswith(('jpg', 'png'))]
print(f"Все файлы с форматом jpg и png {images}")

def convert_image(image_path, image_type):
    # сам процесс конвертации
    im = Image.open(image_path)
    im = im.convert('RGB')
    #здесь мы можем указать приписку к имени файла в кавычках
    image_name = image_path.split('.')[0]
    print(f"Это имя нового файла: {image_name}")

    #сохраняем в новый формат webp
    if image_type == 'jpg' or image_type == 'png':
        im.save(f"{image_name}.webp", 'webp')
    else:
        #если не нашел файлов нужного нам формата - выдаст ошибку
        raise Error
for image in images:
    if image.endswith('jpg'):
        convert_image(image, image_type='jpg')
    elif image.endswith('png'):
        convert_image(image, image_type='png')
    else:
        raise Error
input('для продолжения нажмите любую клавишу')
	</pre>
<p>Скачать файл питона для изучения можно <a href="https://drive.google.com/file/d/1R-DJPKMJ_UC2vCS_qBFI_REoVPnLvaI3/view?usp=sharing" target="_blank">тут</a>, а также файл exe для windows <a href="https://drive.google.com/file/d/1ZXHfAfYqF9-sxLzMYMnAW3CK-B_tP7a-/view?usp=sharing" target="_blank">здесь</a>. Просто поместите программу с файлами jpg png, которые нужно перевести в формат webp и запустите.</p>
<p>На картинке можем увидеть результат сжатия jpg в webp, разрешение 1600*1200. Без потери качества размер изображения уменьшился в 5 раз</p>
<div class="text_image">
<center>
<img alt="конвертация jpg to webp" onclick="openImageWindow(this.src);" src="img/jpg2webp/222jpg2web.webp"/>
</center>
</div>
<br><br><br><footer>lotositsh.github.io. All rights reserved. © 2024</footer></div> </body>
</html>
